<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta name="generator" content="Hugo 0.131.0">
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Overall design between browser &amp; server # How do you serve content to a user in 2024? Well, the ways I know of are &hellip;
Django, or Flask (what architectres do these promote? MVC?) Spring Boot &amp; React (Single Page Apps. MVVM apparently??) Next.js (and other SSR) Hugo (Static Site Gen) Rails (MVC) Cloudflare web workers (the &ldquo;serverless&rdquo; design) Architectures # MVC # Model View Controller. Lots of strong opinions about this.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:url" content="https://work.rehanvipin.me/misc/web-app-arch/">
  <meta property="og:site_name" content="Field Manual">
  <meta property="og:title" content="Web App Architecture">
  <meta property="og:description" content="Overall design between browser &amp; server # How do you serve content to a user in 2024? Well, the ways I know of are …
Django, or Flask (what architectres do these promote? MVC?) Spring Boot &amp; React (Single Page Apps. MVVM apparently??) Next.js (and other SSR) Hugo (Static Site Gen) Rails (MVC) Cloudflare web workers (the “serverless” design) Architectures # MVC # Model View Controller. Lots of strong opinions about this.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="misc">
<title>Web App Architecture | Field Manual</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.ece3f56fc3f716f87ccd4e6f3ea44ba1fa6757114261dadfbf861fde7d4e6203.css" integrity="sha256-7OP1b8P3Fvh8zU5vPqRLofpnVxFCYdrfv4Yf3n1OYgM=">
<script defer src="/en.search.min.6690f9663a01fdd3ad7fc07ad54a1bc4c70de1c83f714d89e22dd8e5a5f97f49.js" integrity="sha256-ZpD5ZjoB/dOtf8B61UobxMcN4cg/cU2J4i3Y5aX5f0k="></script>

<script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a href="/"><img src="/favicon.png" alt="Logo" /><span>Field Manual</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-db70775a2f464f55832baa63954506fc" class="toggle"  />
    <label for="section-db70775a2f464f55832baa63954506fc" class="flex justify-between">
      <a href="https://work.rehanvipin.me/angular/" class="">Angular</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/overview/" class="">Overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/components/" class="">Components</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/template/" class="">Template Syntax</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/services/" class="">Services</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/directives/" class="">Directives</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/routing/" class="">Routing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/forms/" class="">Forms</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/pipes/" class="">Pipes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/di/" class="">Dependency Injection</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/rxjs/" class="">RxJS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/test/" class="">Testing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/libraries/" class="">Libraries</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/signals/" class="">Reactivity with Signals</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-044fa29ae89cdc7fefbeda99f0fc5d1f" class="toggle"  />
    <label for="section-044fa29ae89cdc7fefbeda99f0fc5d1f" class="flex justify-between">
      <a href="https://work.rehanvipin.me/spring-boot/" class="">Spring Boot</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/spring-boot/framework/" class="">Spring Framework</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-a533dae2ec66f5b51d3c38ec9d934c01" class="toggle"  />
    <label for="section-a533dae2ec66f5b51d3c38ec9d934c01" class="flex justify-between">
      <a href="https://work.rehanvipin.me/java/" class="">Java</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/intro/" class="">Setup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/modules/" class="">Mods &amp; Packs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/jvm/" class="">JVM</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/build_tools/" class="">Build tools</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/web-server/" class="">Web Server</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-9e5aaccdf48687824ccd3b3097af8e41" class="toggle"  />
    <label for="section-9e5aaccdf48687824ccd3b3097af8e41" class="flex justify-between">
      <a href="https://work.rehanvipin.me/linux/" class="">Linux stuff</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Fun Stuff</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/d3/" class="">D3</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/typescript/" class="">Typescript</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/tips-tricks/" class="">Tips &amp; Tricks</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/js-execution/" class="">JavaScript execution</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/web-app-arch/" class=" active">Web App Architecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/web-auth/" class="">Web Authentication</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/tmp/" class="">/tmp</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/whatnext/" class="">/next</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/credits/" class="">/credits</a>
  

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Web App Architecture</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#overall-design-between-browser--server">Overall design between browser &amp; server</a>
      <ul>
        <li><a href="#architectures">Architectures</a>
          <ul>
            <li><a href="#mvc">MVC</a></li>
            <li><a href="#mvp">MVP</a></li>
            <li><a href="#model-view-viewmodel">Model View ViewModel</a></li>
          </ul>
        </li>
        <li><a href="#rendering-patterns">Rendering Patterns</a>
          <ul>
            <li><a href="#spa">SPA</a></li>
            <li><a href="#ssr">SSR</a></li>
            <li><a href="#ssg">SSG</a></li>
            <li><a href="#islands">Islands</a></li>
          </ul>
        </li>
        <li><a href="#notes">Notes</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="overall-design-between-browser--server">
  Overall design between browser &amp; server
  <a class="anchor" href="#overall-design-between-browser--server">#</a>
</h1>
<p>How do you serve content to a user in 2024?
Well, the ways I know of are &hellip;</p>
<ol>
<li>Django, or Flask (what architectres do these promote? MVC?)</li>
<li>Spring Boot &amp; React (Single Page Apps. MVVM apparently??)</li>
<li>Next.js (and other SSR)</li>
<li>Hugo (Static Site Gen)</li>
<li>Rails (MVC)</li>
<li>Cloudflare web workers (the &ldquo;serverless&rdquo; design)</li>
</ol>
<h2 id="architectures">
  Architectures
  <a class="anchor" href="#architectures">#</a>
</h2>
<h3 id="mvc">
  MVC
  <a class="anchor" href="#mvc">#</a>
</h3>
<p>Model View Controller.
Lots of strong opinions about this.
Apparently, there are no MVC frameworks, but just apps which implement the MVC architecture pattern.
That might be an over-simplification. There could be frameworks which make it easy to do MVC.</p>
<p>MVC is split into the model section and the presentation section (hence the Separation Of Concerns). Or for simplicity, like this:</p>
<ul>
<li>Model layer contains business logic. It also handles the data persistence.</li>
<li>View layer presents the UI, given the data to present. They are not meant for doing processing.</li>
<li>Controller passes data between Model &amp; View, and also performs auth, handles request-response, and displaying correct View to the user. It does not handle the routing of requests i.e., matching.</li>
</ul>
<p>The model layer is an important one. It can be thought of as containing:</p>
<ul>
<li>Domain entities, corresponding to business objects. These should contain the business logic for that entity.</li>
<li>Data mappers, which handle conversion between domain entities &amp; persistence storage.</li>
<li>Services, responsible for application logic, including interactions between domain entities.</li>
</ul>
<p>View layer can directly read from Model layer, just be careful so that Models are not be dependent on the UI.<br>
The Model &amp; View layer don&rsquo;t have knowledge of the Controller.</p>
<h3 id="mvp">
  MVP
  <a class="anchor" href="#mvp">#</a>
</h3>
<p>Model View Presenter.
Pretty much same as MVC, but all interactions between Model &amp; View happen through Presenter layer.</p>
<p>View &amp; Presenter could be aware of each other.</p>
<h3 id="model-view-viewmodel">
  Model View ViewModel
  <a class="anchor" href="#model-view-viewmodel">#</a>
</h3>
<p>The aim of this approach was to simplify the View layer. Instead of having coding logic,
it just has simple bindings to the properties &amp; methods in the ViewModel layer.</p>
<p>The View definition could be written in a simple language e.g., XML.<br>
The ViewModel is itself not aware of the View, and all data transfer is done through the bindings.
The ViewModel layer interacts with the Model layer only.</p>
<h2 id="rendering-patterns">
  Rendering Patterns
  <a class="anchor" href="#rendering-patterns">#</a>
</h2>
<h3 id="spa">
  SPA
  <a class="anchor" href="#spa">#</a>
</h3>
<p>Single Page Apps. Built with help of libraries like React.
They ship JavaScript to the client which creates the HTML pages on the fly,
helping in reducing time for changes in the page.</p>
<p>Pros and Cons below:</p>
<h4 id="pros">
  Pros
  <a class="anchor" href="#pros">#</a>
</h4>
<ul>
<li>Quick page-updates on user interactions. REACTIVNESS. The whole reason this became popular.</li>
<li>Can easily work with client-side data which may change (e.g., location).</li>
<li>Context of current state of app is easily available.</li>
<li>Server not always required. Something like Firebase could be enough if data persistence is the only concern.</li>
</ul>
<h4 id="cons">
  Cons
  <a class="anchor" href="#cons">#</a>
</h4>
<ul>
<li>First load could be slow. May be alivieated with lazy loading.
But not as fast as getting HTML from server.</li>
<li>Lots of JavaScript needs to be executed, requires some processing on the client.</li>
<li>Systems not able to get the HTML that would be displayed to the users (e.g., robot crawler)</li>
</ul>
<h3 id="ssr">
  SSR
  <a class="anchor" href="#ssr">#</a>
</h3>
<p>Server Side Rendering? Isn&rsquo;t that just the classical multi-page-applications?
Which MVC apps would provide? By directly sending HTML to the client?</p>
<p>Yes, it includes that, but it&rsquo;s a mix of SPA too.
So that the reactivness of the app is still there, without full page loads.</p>
<p>How?
The server sends a full HTML page to the client.
But it also then sends a <code>main.js</code> to hydrate the client with reactiveness (meaning any action they perform now will not require a full page load).</p>
<p>If the same logic is applied for each component,
i.e., the server sends the entire HTML for any component, and then provides hydration later on,
that&rsquo;s called Streaming SSR.</p>
<p>The good part is, client side JS need not worry about what all data is required / conditions need to be applied on the HTML of a component.
The server can do all the data fetches, apply conditions, and pass the end-result HTML to the client.</p>
<p>With React Server Components, it can also send a &ldquo;suspend&rdquo; state of the component
(basically the loading indicators the component should show before the actual state is ready).
Or, if that&rsquo;s not preferred, it can block till the comp is ready.</p>
<h3 id="ssg">
  SSG
  <a class="anchor" href="#ssg">#</a>
</h3>
<p>Pre-render all possible pages of the app in HTML.
Minimal JS for client interaction. There is no server here, just a CDN.</p>
<p>For large sites with lots of pages, it would not be practical to build everything.
Instead, there is <strong>Incremental Static Regeneration (ISR)</strong>, which will create a static site for a page
at runtime, and keep that page cached for a while. Kind of a lazy-loading SSG, but with a server.</p>
<h3 id="islands">
  Islands
  <a class="anchor" href="#islands">#</a>
</h3>
<p>Split page into components. Only the ones which require interactivity get JS,
the rest are plain HTML blocks sent from server.
Used by Astro &amp; Fresh.</p>
<h2 id="notes">
  Notes
  <a class="anchor" href="#notes">#</a>
</h2>
<p>Apparently, MVC of Rails is not the &ldquo;original&rdquo; MVC,
but rather a version 2 designed to suit web apps.
The OG one was for n-tier web apps where these could be different systems.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>

 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#overall-design-between-browser--server">Overall design between browser &amp; server</a>
      <ul>
        <li><a href="#architectures">Architectures</a>
          <ul>
            <li><a href="#mvc">MVC</a></li>
            <li><a href="#mvp">MVP</a></li>
            <li><a href="#model-view-viewmodel">Model View ViewModel</a></li>
          </ul>
        </li>
        <li><a href="#rendering-patterns">Rendering Patterns</a>
          <ul>
            <li><a href="#spa">SPA</a></li>
            <li><a href="#ssr">SSR</a></li>
            <li><a href="#ssg">SSG</a></li>
            <li><a href="#islands">Islands</a></li>
          </ul>
        </li>
        <li><a href="#notes">Notes</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>

</html>












