<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta name="generator" content="Hugo 0.145.0">
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Snowflake, the enterprise DB (TM)
  #

Not exactly. It&rsquo;s a cloud data platform apparently.
Why would you need it? Otherwise, an org can have so many DBs across departments,
with lots of data duplication and lesser opportunities for high level analysis across systems.
Also, it is cloud native and doesn&rsquo;t expose any hardware aspects to the users.
Apparently, the on-prem structure of past solutions were not scalable and were expensive.
Snowflake uses AWS, Azure, or GCP, and is a much more scalable solution,
with separate scaling for storage and compute. It has a pay-as-you-go model. (Like AWS billing).">
<meta name="theme-color" content="#FFFFFF"><meta property="og:url" content="https://work.rehanvipin.me/misc/snowflake/">
  <meta property="og:site_name" content="Field Manual">
  <meta property="og:title" content="Snowflake">
  <meta property="og:description" content="Snowflake, the enterprise DB (TM) # Not exactly. It’s a cloud data platform apparently.
Why would you need it? Otherwise, an org can have so many DBs across departments, with lots of data duplication and lesser opportunities for high level analysis across systems. Also, it is cloud native and doesn’t expose any hardware aspects to the users.
Apparently, the on-prem structure of past solutions were not scalable and were expensive. Snowflake uses AWS, Azure, or GCP, and is a much more scalable solution, with separate scaling for storage and compute. It has a pay-as-you-go model. (Like AWS billing).">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="misc">
<title>Snowflake | Field Manual</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.ece3f56fc3f716f87ccd4e6f3ea44ba1fa6757114261dadfbf861fde7d4e6203.css" integrity="sha256-7OP1b8P3Fvh8zU5vPqRLofpnVxFCYdrfv4Yf3n1OYgM=">
<script defer src="/en.search.min.a48e4261065d27e1e22e6fad4bf487e263e7c0f6b72de5574fafdc0f076f8a19.js" integrity="sha256-pI5CYQZdJ&#43;HiLm&#43;tS/SH4mPnwPa3LeVXT6/cDwdvihk="></script>

<script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a href="/"><img src="/favicon.png" alt="Logo" /><span>Field Manual</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-d938590ca2412dffddd407c9492deb06" class="toggle"  />
    <label for="section-d938590ca2412dffddd407c9492deb06" class="flex justify-between">
      <a href="https://work.rehanvipin.me/angular/" class="">Angular</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/overview/" class="">Overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/components/" class="">Components</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/template/" class="">Template Syntax</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/services/" class="">Services</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/directives/" class="">Directives</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/routing/" class="">Routing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/forms/" class="">Forms</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/pipes/" class="">Pipes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/di/" class="">Dependency Injection</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/rxjs/" class="">RxJS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/test/" class="">Testing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/libraries/" class="">Libraries</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/signals/" class="">Reactivity with Signals</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-c38691ce03cec66ff0f7b7efaab53e79" class="toggle"  />
    <label for="section-c38691ce03cec66ff0f7b7efaab53e79" class="flex justify-between">
      <a href="https://work.rehanvipin.me/spring-boot/" class="">Spring Boot</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/spring-boot/framework/" class="">Spring Framework</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-ce5ff98c33c145e8b67581715b2547e5" class="toggle"  />
    <label for="section-ce5ff98c33c145e8b67581715b2547e5" class="flex justify-between">
      <a href="https://work.rehanvipin.me/java/" class="">Java</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/intro/" class="">Setup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/modules/" class="">Mods &amp; Packs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/jvm/" class="">JVM</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/build_tools/" class="">Build tools</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/web-server/" class="">Web Server</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-e0492fb7d644f53d646814ca03b395ed" class="toggle"  />
    <label for="section-e0492fb7d644f53d646814ca03b395ed" class="flex justify-between">
      <a href="https://work.rehanvipin.me/linux/" class="">Linux stuff</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-773d618b842553ceefdcb3472b44e38d" class="toggle"  />
    <label for="section-773d618b842553ceefdcb3472b44e38d" class="flex justify-between">
      <a  class="">Web Development</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/html/" class="">HTML</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/css/" class="">CSS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/js/" class="">JS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/js-execution/" class="">JavaScript Execution</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/web-app-arch/" class="">Web App Architecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/web-auth/" class="">Web Authentication</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/react-and-bootstrap/" class="">React &amp; Boostrap</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Fun Stuff</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/d3/" class="">D3</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/typescript/" class="">Typescript</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/tips-tricks/" class="">Tips &amp; Tricks</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/snowflake/" class=" active">Snowflake</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/tmp/" class="">/tmp</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/whatnext/" class="">/next</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/credits/" class="">/credits</a>
  

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Snowflake</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#snowflake-the-enterprise-db-tm">Snowflake, the enterprise DB (TM)</a>
      <ul>
        <li><a href="#architecture">Architecture</a>
          <ul>
            <li><a href="#streams--tasks">Streams &amp; Tasks</a></li>
            <li><a href="#dynamic-tables">Dynamic Tables</a></li>
          </ul>
        </li>
        <li><a href="#usage">Usage</a>
          <ul>
            <li><a href="#data-loading">Data Loading</a></li>
            <li><a href="#resource-monitors">Resource Monitors</a></li>
          </ul>
        </li>
        <li><a href="#warehouse--lake-">Warehouse &amp; Lake ?</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="snowflake-the-enterprise-db-tm">
  Snowflake, the enterprise DB (TM)
  <a class="anchor" href="#snowflake-the-enterprise-db-tm">#</a>
</h1>
<p>Not exactly. It&rsquo;s a cloud data platform apparently.</p>
<p>Why would you need it? Otherwise, an org can have so many DBs across departments,
with lots of data duplication and lesser opportunities for high level analysis across systems.
Also, it is cloud native and doesn&rsquo;t expose any hardware aspects to the users.</p>
<p>Apparently, the on-prem structure of past solutions were not scalable and were expensive.
Snowflake uses AWS, Azure, or GCP, and is a much more scalable solution,
with separate scaling for storage and compute. It has a pay-as-you-go model. (Like AWS billing).</p>
<p>It also has very good integration with many analytics software such as Power BI, Tableau.</p>
<p>They have some courses to get started:</p>
<ul>
<li>
  <a href="https://learn.snowflake.com/en/pages/level-up-track/">Level Up: First Concepts Series Track</a></li>
<li>
  <a href="https://learn.snowflake.com/en/pages/level-up-performance-track/">Level Up: Performance Series Track</a></li>
</ul>
<h2 id="architecture">
  Architecture
  <a class="anchor" href="#architecture">#</a>
</h2>
<p>Snowflake has three main layers :</p>
<ul>
<li>Cloud Service - For UI based actions. Also does metadata management, query optimization.</li>
<li>Compute Layer - Query executor. Uses virtual warehouses (AKA warehouses) for compute. This has an inbuilt cache to cache query results if possible.</li>
<li>Storage Layer - Stores the data in one of the cloud storages. Stores data in a columnar format. Split into micropartitions (shards) for better reads. Supports structured and unstructured data. Data once loaded can only be accessed by SQL.</li>
</ul>
<p>Two more were added recently, to make it a &ldquo;AI Data Cloud&rdquo; :</p>
<ul>
<li>cortex AI - gives access to agents, LLMs, document analyzers which can help get more value from data.</li>
<li>snowgrid - connects multiple cloud providers to provide fast global access to data.</li>
</ul>
<p>What&rsquo;s a virtual warehouse?
Compute resources for snowflake. It provides resources to run all the data loading / queries.
They can be scaled horizontally and vertically.
There are standard warehouses and snowpark variants (for resource-intensive processes).</p>
<h3 id="streams--tasks">
  Streams &amp; Tasks
  <a class="anchor" href="#streams--tasks">#</a>
</h3>
<p>A stream can be linked to a DB and it will track all the changes that happen in the DB.
A scheduled Task can once in a while pick up the list of changes in the stream, do any required transformations,
and merge (like a merge query) into the target table to make it up to date.</p>
<h3 id="dynamic-tables">
  Dynamic Tables
  <a class="anchor" href="#dynamic-tables">#</a>
</h3>
<p>A new declarative way of defining transformation pipelines of data.
It can pick up data from target tables and use a query definition to prepare a target table.
It can auto-update based on the specified lag-time.</p>
<h2 id="usage">
  Usage
  <a class="anchor" href="#usage">#</a>
</h2>
<p>Snowflake has a dashboard UI to manage accounts, data warehouses, databases, etc.
With it, you can create jupyter notebooks, worksheets (like notebooks but with SQL).
You can also create dashboards (simple interactive UIs with parameterized queries) or streamlit webapps.</p>
<p>It also has a CLI, snowSql for querying data from a DB.</p>
<p>You can also connect to it using JDBC / ODBC drivers or native connectors (e.g., for python).</p>
<p>You can load data in batches or have continuous load of data (from Kafa for example).</p>
<h3 id="data-loading">
  Data Loading
  <a class="anchor" href="#data-loading">#</a>
</h3>
<p>Data can be loaded into snowflake via a stage -&gt; transform -&gt; load process.
The staging can be internal or from an external cloud.
The moving and transformation is done bythe <code>COPY INTO</code> command which understands multiple data formats and allows for transformations on them.</p>
<p>Alternatively, if data is to be streamed into snowflake, snowpipe can be useful to take it from the stage to target using cloud functions instead of virtual warehouses.</p>
<p>Even more drastically, you can use &ldquo;external tables&rdquo; and not have data stored in snowflake at all. It can be stored in some cloud provider&rsquo;s solution and have a reference passed to snowflake.</p>
<h3 id="resource-monitors">
  Resource Monitors
  <a class="anchor" href="#resource-monitors">#</a>
</h3>
<p>Virtual Warehouse usage is paid for using credits. The cost is determined by the number of running warehouses, running time, resources used by each one.</p>
<p>To prevent unexpected credit usage, resource monitors can be set for warehouses.
One monitor can be set for multiple, but a VWH can have only one monitor at a time.
For each monitor, you can set the quota of credits available. These can send notifications, or suspend usage on breach of a threshold of the quota (e.g., 50%, 85%).</p>
<h2 id="warehouse--lake-">
  Warehouse &amp; Lake ?
  <a class="anchor" href="#warehouse--lake-">#</a>
</h2>
<p>What are these things and how are they different from a DB? Well these are OLAP systems unlike DBs which are mostly OLTP.
People use them to gather data from many sources and perform analytics on the large amount of data.</p>
<p>A warehouse typically has an ETL pipeline to load data into it after it has been processed. It mostly has structured data.</p>
<p>A lake typically stores the raw data, and may use the ELT methodology. It can store unstructured data in different forms.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">



</div>

 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#snowflake-the-enterprise-db-tm">Snowflake, the enterprise DB (TM)</a>
      <ul>
        <li><a href="#architecture">Architecture</a>
          <ul>
            <li><a href="#streams--tasks">Streams &amp; Tasks</a></li>
            <li><a href="#dynamic-tables">Dynamic Tables</a></li>
          </ul>
        </li>
        <li><a href="#usage">Usage</a>
          <ul>
            <li><a href="#data-loading">Data Loading</a></li>
            <li><a href="#resource-monitors">Resource Monitors</a></li>
          </ul>
        </li>
        <li><a href="#warehouse--lake-">Warehouse &amp; Lake ?</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>

</html>












