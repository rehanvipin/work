<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta name="generator" content="Hugo 0.145.0">
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Signals
  #

Apparently, it is used to make Angular apps more responsive and improve Change Detection.
Signals can be thought of as a combination of state and a notification mechanism for changes to that state.
How is that different from RxJS observables?
Observables are a notification mechanism for events and don&rsquo;t really hold state.
What about Subjects then?? Well, they are similar, but state management code is simpler with signals (based on trials).
One such benefit is that there is no need to manually &ldquo;complete&rdquo; &amp; &ldquo;unsubscribe&rdquo;.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:url" content="https://work.rehanvipin.me/angular/signals/">
  <meta property="og:site_name" content="Field Manual">
  <meta property="og:title" content="Reactivity with Signals">
  <meta property="og:description" content="Signals # Apparently, it is used to make Angular apps more responsive and improve Change Detection.
Signals can be thought of as a combination of state and a notification mechanism for changes to that state.
How is that different from RxJS observables? Observables are a notification mechanism for events and don’t really hold state.
What about Subjects then?? Well, they are similar, but state management code is simpler with signals (based on trials).
One such benefit is that there is no need to manually “complete” &amp; “unsubscribe”.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="angular">
<title>Reactivity with Signals | Field Manual</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.ece3f56fc3f716f87ccd4e6f3ea44ba1fa6757114261dadfbf861fde7d4e6203.css" integrity="sha256-7OP1b8P3Fvh8zU5vPqRLofpnVxFCYdrfv4Yf3n1OYgM=">
<script defer src="/en.search.min.a48e4261065d27e1e22e6fad4bf487e263e7c0f6b72de5574fafdc0f076f8a19.js" integrity="sha256-pI5CYQZdJ&#43;HiLm&#43;tS/SH4mPnwPa3LeVXT6/cDwdvihk="></script>

<script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a href="/"><img src="/favicon.png" alt="Logo" /><span>Field Manual</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-d938590ca2412dffddd407c9492deb06" class="toggle" checked />
    <label for="section-d938590ca2412dffddd407c9492deb06" class="flex justify-between">
      <a href="https://work.rehanvipin.me/angular/" class="">Angular</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/overview/" class="">Overview</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/components/" class="">Components</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/template/" class="">Template Syntax</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/services/" class="">Services</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/directives/" class="">Directives</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/routing/" class="">Routing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/forms/" class="">Forms</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/pipes/" class="">Pipes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/di/" class="">Dependency Injection</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/rxjs/" class="">RxJS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/test/" class="">Testing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/libraries/" class="">Libraries</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/angular/signals/" class=" active">Reactivity with Signals</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-c38691ce03cec66ff0f7b7efaab53e79" class="toggle"  />
    <label for="section-c38691ce03cec66ff0f7b7efaab53e79" class="flex justify-between">
      <a href="https://work.rehanvipin.me/spring-boot/" class="">Spring Boot</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/spring-boot/framework/" class="">Spring Framework</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-ce5ff98c33c145e8b67581715b2547e5" class="toggle"  />
    <label for="section-ce5ff98c33c145e8b67581715b2547e5" class="flex justify-between">
      <a href="https://work.rehanvipin.me/java/" class="">Java</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/intro/" class="">Setup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/modules/" class="">Mods &amp; Packs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/jvm/" class="">JVM</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/build_tools/" class="">Build tools</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/java/web-server/" class="">Web Server</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-e0492fb7d644f53d646814ca03b395ed" class="toggle"  />
    <label for="section-e0492fb7d644f53d646814ca03b395ed" class="flex justify-between">
      <a href="https://work.rehanvipin.me/linux/" class="">Linux stuff</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-773d618b842553ceefdcb3472b44e38d" class="toggle"  />
    <label for="section-773d618b842553ceefdcb3472b44e38d" class="flex justify-between">
      <a  class="">Web Development</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/html/" class="">HTML</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/css/" class="">CSS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/js/" class="">JS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/js-execution/" class="">JavaScript Execution</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/web-app-arch/" class="">Web App Architecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/web-auth/" class="">Web Authentication</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/webdev/react-and-bootstrap/" class="">React &amp; Boostrap</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Fun Stuff</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/d3/" class="">D3</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/typescript/" class="">Typescript</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/tips-tricks/" class="">Tips &amp; Tricks</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/misc/snowflake/" class="">Snowflake</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/tmp/" class="">/tmp</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/whatnext/" class="">/next</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://work.rehanvipin.me/credits/" class="">/credits</a>
  

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Reactivity with Signals</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#signals">Signals</a>
      <ul>
        <li><a href="#simple-uses">Simple uses</a></li>
        <li><a href="#effects">Effects</a></li>
        <li><a href="#notifications">Notifications</a></li>
        <li><a href="#error-handling">Error handling</a></li>
        <li><a href="#fine-grained-reactivity">Fine grained reactivity</a></li>
        <li><a href="#use-with-rxjs">Use with RxJS</a>
          <ul>
            <li><a href="#observable-to-signal">Observable to Signal</a></li>
            <li><a href="#signal-to-observable">Signal to Observable</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="signals">
  Signals
  <a class="anchor" href="#signals">#</a>
</h1>
<p>Apparently, it is used to make Angular apps more responsive and improve Change Detection.</p>
<p>Signals can be thought of as a combination of state and a notification mechanism for changes to that state.</p>
<p>How is that different from RxJS observables?
Observables are a notification mechanism for <em>events</em> and don&rsquo;t really hold state.<br>
What about Subjects then?? Well, they are similar, but state management code is simpler with signals (based on trials).<br>
One such benefit is that there is no need to manually &ldquo;complete&rdquo; &amp; &ldquo;unsubscribe&rdquo;.</p>
<p>Sometimes, rxjs pipelines may be better use, given that they will process every single emission. Unlike a <code>computed</code> with signals.</p>
<p>RxJS is still the choice when the domain has asynchronous activites, e.g., fetching data over a network.</p>
<p>This is a good course : 
  <a href="https://app.pluralsight.com/library/courses/rxjs-angular-signals-fundamentals/table-of-contents">RxJS and Angular Signals Fundamentals</a></p>
<h2 id="simple-uses">
  Simple uses
  <a class="anchor" href="#simple-uses">#</a>
</h2>
<p>They can be created in the component like so: <code>const newSig = signal&lt;TypeOrLetItBeInferred&gt;(defaultValue)</code>. The default value is a must.</p>
<p>They can be read anywhere in the TS code like so: <code>newSig()</code>. Same thing in the template file.
When a signal is used in a template, Angular registers it as a dependency of the template and, whenver required, will re-render the portion of the template where the signal is used.</p>
<p>To update values, just do <code>newSig.set(newVal)</code> and it will set the value and notify dependents.
Similary, there is a <code>newSig.update((oldVal) =&gt; { /* code to return new value based on old value */ })</code> to set the value and notify dependents.</p>
<h2 id="effects">
  Effects
  <a class="anchor" href="#effects">#</a>
</h2>
<p>When a signal&rsquo;s value changes, there is a delay till the next change detection cycle for the updates to be visible in the template.</p>
<p>One dependent of a signal is a computed signal. It&rsquo;s a readonly signal whose value is derived from other signals.<br>
It&rsquo;s defined like this <code>const compSig = computed(() =&gt; { /* may use some signals to return the value */ })</code>.
All the signals used in the function block become the dependencies.<br>
It will only do the computation if the value of the computed signal is read anywhere, and it won&rsquo;t do the computation again if none of the dependencies have changed. Memoization basically.</p>
<p>Computed signals are lazily evaluated also.</p>
<p>Another dependent is an <code>effect</code> which schedules an execution of the arrow function whenever dependencies change. E.g., <code>effect(() =&gt; { /**/ })</code>
Unlike a <code>computed</code>, it will at least run once. (because there is no concept of &ldquo;reading&rdquo; an effect. it is only for side-effects)
If there are multiple dependency updates, it is possible that only one execution is scheduled for all those updates.</p>
<p>The effect actually returns a &ldquo;ref&rdquo; which can be used to cancel any queued scheduled executions for that effect.</p>
<p>In both above cases, it&rsquo;s not recommended to update any dependency / dependents inside the function block as it can cause circular executions.</p>
<p>An <code>effect</code> can be setup only in an &ldquo;injection context&rdquo; such as constructor etc. or you can pass it an injector reference.<br>
More about that here 
  <a href="https://github.com/angular/angular/issues/56357">https://github.com/angular/angular/issues/56357</a></p>
<p>Angular itself mentions that <code>effect</code>s are not likely to be found in most applications and that <code>computed</code>s are generally better.</p>
<h2 id="notifications">
  Notifications
  <a class="anchor" href="#notifications">#</a>
</h2>
<p>A signal will not notify the dependents if the &ldquo;value&rdquo; of the signal is the same as it was before, even if someone had .set or .update the signal.</p>
<p>How does it know value has changed? Object reference. That&rsquo;s why if your signal is holding an array, you should update the array reference itself when performing updates.</p>
<p>E.g., <code>sig.update(currentArr =&gt; [...currentArr, {val: 'newVal'}])</code> instead of getting array ref from signal and pushing to that array.</p>
<p>You should always use <code>.set</code> or <code>.update</code> to inform about a value update, but even with that, there are problems for arrays due to obj ref if you do
<code>sig.update(cArr =&gt; cArr.push({val: 'newVal'}))</code>. That&rsquo;s why the above method is better.</p>
<p>Alternatively, can we define a signal&rsquo;s equality checker to solve this problem?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#a6e22e">uniqSig</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">signal</span>([<span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#39;hi&#39;</span>], {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">equal</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">prev</span>, <span style="color:#a6e22e">cur</span>) <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">prev</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">!==</span> <span style="color:#a6e22e">cur</span>.<span style="color:#a6e22e">length</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">prev</span>.<span style="color:#a6e22e">every</span>((<span style="color:#a6e22e">pval</span>, <span style="color:#a6e22e">i</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">pval</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">cur</span>[<span style="color:#a6e22e">i</span>]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>Not in this case. Since we are modifying the array that signal is holding, <code>prev</code> and <code>cur</code> will always be the same.</p>
<p>Computed / Effect signals will only track signals within the enclosing function which were read during the last execution.<br>
At every execution, they update the list of dependencies.</p>
<h2 id="error-handling">
  Error handling
  <a class="anchor" href="#error-handling">#</a>
</h2>
<p>Signals are a store for values. They don&rsquo;t emit error events. They just store a value.
However, if there is an error thrown in a computed signal, the error will be propagated till the place where the computed signal&rsquo;s value is read.
Whether that is TS code or in the template.
If the error is in the template, it can also cause problems with displaying any other signals which are the dependencies of the computed signal.
dependents will anyways error out.</p>
<h2 id="fine-grained-reactivity">
  Fine grained reactivity
  <a class="anchor" href="#fine-grained-reactivity">#</a>
</h2>
<p>All resources mention that signals improve change detection and provide &ldquo;fine grained reactivity&rdquo; compared to observables.
But what exactly is the difference?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">form-1</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">input-field-holder</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">p</span>&gt;Box is {{ /* signal or observable | async */ }}&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">text</span> <span style="color:#960050;background-color:#1e0010">/</span> <span style="color:#960050;background-color:#1e0010">[(</span><span style="color:#a6e22e">ngModel</span><span style="color:#960050;background-color:#1e0010">)]=&#34;</span><span style="color:#a6e22e">someText</span><span style="color:#960050;background-color:#1e0010">&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">label</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span>&gt; {{ someData }} &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">form</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">data-block</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">li</span> <span style="color:#960050;background-color:#1e0010">*</span><span style="color:#a6e22e">ngFor</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;let data of datalist; i = index&#34;</span>&gt; Data for {{i}} is {{data}}.&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><p>If the signal&rsquo;s value changes and the notification is sent to the change detector, it will only check the <code>&lt;p&gt;</code> tag.<br>
If an observable is used, it would trigger change-detection for the entire component. Requiring all bindings to be evaluated again.</p>
<h2 id="use-with-rxjs">
  Use with RxJS
  <a class="anchor" href="#use-with-rxjs">#</a>
</h2>
<p>RxJS used to be the only way to handle reactivity. Now signals can share that responsibility.<br>
RxJS is still recommended for asynchronous ops, data fetching and transformations in the service layer. Also for event management.
Signals are the recommended ones for components. why? &ldquo;improved change detection&rdquo; apparently.
They also make state management easier to read. In services and components.</p>
<p>Also, rxjs makes sure observers get every single event which comes from an observable.<br>
Not the case with signals. Effects or computed might only get some values if many values are sent before the effect / computed logic gets a chance to be scheduled to run.
Once they get a chance to run, it is guaranteed that they will get the last value of the dependency signal.</p>
<p>There is an <code>rxjs-interop</code> library under the Angular monorepo which helps to convert between rxjs primitives and signals.</p>
<h3 id="observable-to-signal">
  Observable to Signal
  <a class="anchor" href="#observable-to-signal">#</a>
</h3>
<p>Use the <code>toSignal(observable, options)</code> function. The optional parameter can help specify an initial value if there is one.
E.g., <code>{initialValue: 123}</code>. It creates a read-only signal and subscribes to the observable.</p>
<h3 id="signal-to-observable">
  Signal to Observable
  <a class="anchor" href="#signal-to-observable">#</a>
</h3>
<p>If you want to use the signal&rsquo;s value in an existing rxjs pipeline, it can be useful to convert the signal to an observable with <code>toObservable(signalName)</code>.<br>
However, the resultant observable will not emit all values which the signal contains.
This function works by using an <code>effect()</code> so the observable may end up emitting some of the values similar to how <code>effect()</code> works.</p>
<p>It might be something like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#a6e22e">makeObs</span>&lt;<span style="color:#f92672">T</span>&gt;(<span style="color:#a6e22e">signal</span>: <span style="color:#66d9ef">Signal</span>&lt;<span style="color:#f92672">T</span>&gt;)<span style="color:#f92672">:</span> <span style="color:#a6e22e">Observable</span>&lt;<span style="color:#f92672">T</span>&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">tempSubject</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Subject</span>&lt;<span style="color:#f92672">T</span>&gt;();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">effect</span>((<span style="color:#a6e22e">onclean</span>) <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">tempSubject</span>.<span style="color:#a6e22e">next</span>(<span style="color:#a6e22e">signal</span>());
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">tempSubject</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">e</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">onclean</span>(() <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">tempSubject</span>.<span style="color:#a6e22e">complete</span>());
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">tempSubject</span>.<span style="color:#a6e22e">asObservable</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>A possible problem to watch out is that once an observable emits an error, it will close and won&rsquo;t emit values.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">



</div>

 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#signals">Signals</a>
      <ul>
        <li><a href="#simple-uses">Simple uses</a></li>
        <li><a href="#effects">Effects</a></li>
        <li><a href="#notifications">Notifications</a></li>
        <li><a href="#error-handling">Error handling</a></li>
        <li><a href="#fine-grained-reactivity">Fine grained reactivity</a></li>
        <li><a href="#use-with-rxjs">Use with RxJS</a>
          <ul>
            <li><a href="#observable-to-signal">Observable to Signal</a></li>
            <li><a href="#signal-to-observable">Signal to Observable</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>

</html>












